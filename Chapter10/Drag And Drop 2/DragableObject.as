package {	import flash.display.MovieClip;	import flash.events.Event;	import flash.events.MouseEvent;	public class DragableObject extends MovieClip	{		//Initialize variables		private var _isDragging:Boolean;		public function DragableObject()		{			//Add listeners			addEventListener(Event.ENTER_FRAME, onEnterFrame);			addEventListener(MouseEvent.MOUSE_DOWN, onMouseDown);			//Important: onMouseDown listener is added to this object		}		private function onMouseUp(event:Event):void		{			stopDrag();			_isDragging = false;			stage.removeEventListener(MouseEvent.MOUSE_UP, onMouseUp);			//Important: onMouseUp listener is added to the stage			//so that it will function if the mouse is relased outside			//the SWF stage area.		}		private function onMouseDown(event:Event):void		{			startDrag(true);			_isDragging = true;			parent.setChildIndex(this, parent.numChildren - 1);			stage.addEventListener(MouseEvent.MOUSE_UP, onMouseUp);		}		private function onEnterFrame(event:Event):void		{			//Stage boundaries			var halfWidth:uint = width / 2;			var halfHeight:uint = height / 2;						if (x + halfWidth > stage.stageWidth)			{				x = stage.stageWidth - halfWidth;			}			else if (x - halfWidth < 0)			{				x = 0 + halfWidth;			}			if (y - halfHeight < 0)			{				y = 0 + halfHeight;			}			else if (y + halfHeight > stage.stageHeight)			{				y = stage.stageHeight - halfHeight;			}		}		public function get isBeingDragged():Boolean		{			return _isDragging;		}	}}