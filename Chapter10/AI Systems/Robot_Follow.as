package {	import flash.display.MovieClip;	import flash.events.Event;	public class Robot_Follow extends MovieClip	{		//Constants		private const SPEED:Number = 3;		private const TURN_SPEED:Number = 0.3;		private const RANGE:Number = 200;		private const FRICTION:Number = 0.96;		//Variables		private var _vx:Number;		private var _vy:Number;		public function Robot_Follow()		{			//Initialize variables			_vx = 0;			_vy = 0;			//Add listeners			addEventListener(Event.ENTER_FRAME, onEnterFrame);		}		private function onEnterFrame(event:Event):void		{			//Get the target object			var target = MovieClip(root).player;			//Calculate the distance			var dx:Number = target.x - this.x;			var dy:Number = target.y - this.y;			var distance:Number = Math.sqrt(dx * dx + dy * dy);			if (distance <= RANGE)			{				//Find out how far to move				var moveX:Number = TURN_SPEED * dx / distance;				var moveY:Number = TURN_SPEED * dy / distance;				//Increase velocity				_vx += moveX;				_vy += moveY;				//Find total distance to move				var moveDistance:Number = Math.sqrt(_vx * _vx + _vy * _vy);				//Apply easing				_vx = SPEED * _vx / moveDistance;				_vy = SPEED * _vy / moveDistance;				//Rotate towards the target				rotation = 180 * Math.atan2(_vy, _vx) / Math.PI + 90;			}			//Apply friction			_vx *= FRICTION;			_vy *= FRICTION;			//Move			x += _vx;			y += _vy;		}	}}