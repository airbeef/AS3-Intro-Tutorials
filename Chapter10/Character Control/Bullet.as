package {	import flash.display.MovieClip;	import flash.events.Event;	import flash.filters.BevelFilter;	import flash.filters.BitmapFilterQuality;	public class Bullet extends MovieClip	{		//Constants		private const STAR:uint = 1;		private const CIRCLE:uint = 2;		private const SQUARE:uint = 3;		//Variables		private var _vx:Number;		private var _vy:Number;		private var _ax:Number;		private var _ay:Number;		private var _angle:Number;		private var _stageHeight:uint;		private var _stageWidth:uint;		private var _bevel:BevelFilter;		public function Bullet(vx:Number, vy:Number, startX:Number, startY:Number, bulletType:String)		{			//Assign velocity and start position using values			//supplied to the parameters			this._vx = vx;			this._vy = vy;			this.x = startX;			this.y = startY;						//Find bullet type			switch (bulletType)			{				case "star" :					gotoAndStop(STAR);					break;				case "circle" :					gotoAndStop(CIRCLE);					break;									case "square" :					gotoAndStop(SQUARE);					break;									default:					gotoAndStop(CIRCLE);			}						//Add an "ADDED_TO_STAGE" listener			addEventListener(Event.ADDED_TO_STAGE, onAddedToStage);						//Add the bevel filter			_bevel = new BevelFilter();			_bevel.distance = 3;			_bevel.angle = 120;			_bevel.quality = BitmapFilterQuality.LOW;			this.filters = [_bevel];		}		private function onAddedToStage(event:Event):void		{			//Find the stage's height and width			_stageHeight = stage.stageHeight;			_stageWidth = stage.stageWidth;						//Add listeners			addEventListener(Event.ENTER_FRAME, onEnterFrame);			addEventListener(Event.REMOVED_FROM_STAGE, onRemovedFromStage);			removeEventListener(Event.ADDED_TO_STAGE, onAddedToStage);		}		private function onRemovedFromStage(event:Event):void		{			removeEventListener(Event.ENTER_FRAME, onEnterFrame);			removeEventListener(Event.REMOVED_FROM_STAGE, onRemovedFromStage);		}		private function onEnterFrame(event:Event):void		{			//Rotate bullet			rotation += 20;			//Move bullet			x += _vx;			y += _vy;			//Stage Boundaries:			//Top			if (y + height/2 < 0)			{				parent.removeChild(this);			}			//Bottom			else if (y - height/2 > _stageHeight)			{				parent.removeChild(this);			}			//Left			else if (x + width/2 < 0)			{				parent.removeChild(this);			}			//Right			else if (x - width/2 > _stageWidth)			{				parent.removeChild(this);			}		}	}}