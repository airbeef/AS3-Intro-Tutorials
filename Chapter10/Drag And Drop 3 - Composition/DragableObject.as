package {	import flash.display.MovieClip;	import flash.events.Event;	import flash.events.MouseEvent;	//Notice that the class doesn't have to extend the MovieClip class	//It can extend any class that it needs to, or none at all.	public class DragableObject	{		//Initialize variables		private var _isDragging:Boolean;		private var _dragObject:MovieClip;		private var _stage:Object;		private var _stageHeight:Number;		private var _stageWidth:Number;				//The DragableObject class is not on the display list so doesn't have		//direct access to the stage. We need to pass it a reference		//to the stage as a parameter in the constructor 		//and use it to access the stage's height and width		public function DragableObject(anyObject:MovieClip, stage:Object)		{			_dragObject = anyObject;			_stage = stage;			_stageHeight = stage.stageHeight;			_stageWidth = stage.stageWidth;			trace(_stageWidth);			init();		}		private function init():void		{			//Add listeners			_dragObject.addEventListener(Event.ENTER_FRAME, onEnterFrame);			_dragObject.addEventListener(MouseEvent.MOUSE_DOWN, onMouseDown);			//Important: onMouseDown listener is added to this object		}		private function onMouseUp(event:Event):void		{			_dragObject.stopDrag();			_isDragging = false;			_stage.removeEventListener(MouseEvent.MOUSE_UP, onMouseUp);			//Important: onMouseUp listener is added to the stage			//so that it will function if the mouse is relased outside			//the SWF stage area.		}		private function onMouseDown(event:Event):void		{			_dragObject.startDrag();			trace(_dragObject);			_isDragging = true;			_dragObject.parent.setChildIndex(_dragObject, _dragObject.parent.numChildren-1);			_stage.addEventListener(MouseEvent.MOUSE_UP, onMouseUp);		}		private function onEnterFrame(event:Event):void		{						//Stage boundaries			var halfWidth:Number = _dragObject.width/2;			var halfHeight:Number = _dragObject.height/2;						if (_dragObject.x+halfWidth>_stageWidth)			{				_dragObject.x=_stageWidth-halfWidth;			}			else if (_dragObject.x - halfWidth < 0)			{				_dragObject.x=0+halfWidth;			}			if (_dragObject.y-halfHeight<0)			{				_dragObject.y=0+halfHeight;			}			else if (_dragObject.y + halfHeight > _stageHeight)			{				_dragObject.y=_stageHeight-halfHeight;			}		}		public function get isDragging():Boolean		{			return _isDragging;		}		public function set isDragging(dragValue:Boolean):void		{			_isDragging = dragValue;		}		public function get dragObject():MovieClip		{			return _dragObject;		}	}}