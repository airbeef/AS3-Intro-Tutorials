package {	import flash.display.MovieClip;	import flash.events.KeyboardEvent;	import flash.ui.Keyboard;	import flash.events.Event;	public class Main_Scrolling_Two extends MovieClip	{		var vx:int;		var vy:int;		var rightInnerBoundary:uint;		var leftInnerBoundary:uint;		var topInnerBoundary:uint;		var bottomInnerBoundary:uint;		function Main_Scrolling_Two()		{			init();		}		function init():void		{			//initialise variables			vx = 0;			vy = 0;			rightInnerBoundary = (stage.stageWidth / 2) + (stage.stageWidth / 4);			leftInnerBoundary = (stage.stageWidth / 2) - (stage.stageWidth / 4);			topInnerBoundary = (stage.stageHeight / 2) - (stage.stageHeight / 4);			bottomInnerBoundary = (stage.stageHeight / 2) + (stage.stageHeight / 4);			//Add event listeners			stage.addEventListener(KeyboardEvent.KEY_DOWN, onKeyDown);			stage.addEventListener(KeyboardEvent.KEY_UP, onKeyUp);			addEventListener(Event.ENTER_FRAME, onEnterFrame);		}		function onKeyDown(event:KeyboardEvent):void		{			if (event.keyCode == Keyboard.LEFT)			{				vx = -5;			}			else if (event.keyCode == Keyboard.RIGHT)			{				vx = 5;			}			else if (event.keyCode == Keyboard.UP)			{				vy = -5;			}			else if (event.keyCode == Keyboard.DOWN)			{				vy = 5;			}		}		function onKeyUp(event:KeyboardEvent):void		{			if (event.keyCode == Keyboard.LEFT || event.keyCode == Keyboard.RIGHT)			{				vx = 0;			}			else if (event.keyCode == Keyboard.DOWN || event.keyCode == Keyboard.UP)			{				vy = 0;			}		}		function onEnterFrame(event:Event):void		{			//Initialise local variables			var playerHalfWidth:uint = player.width / 2;			var playerHalfHeight:uint = player.height / 2;			var backgroundHalfWidth:uint = background.width / 2;			var backgroundHalfHeight:uint = background.height / 2;						//Move the player			player.x += vx;			player.y += vy;			//Stop player at inner boundary edges			if (player.x - playerHalfWidth < leftInnerBoundary)			{				player.x = leftInnerBoundary + playerHalfWidth;				rightInnerBoundary = (stage.stageWidth / 2) + (stage.stageWidth / 4);				background.x -= vx;			}			else if (player.x + playerHalfWidth > rightInnerBoundary)			{				player.x = rightInnerBoundary - playerHalfWidth;				leftInnerBoundary = (stage.stageWidth / 2) - (stage.stageWidth / 4);				background.x -= vx;			}			if (player.y - playerHalfHeight < topInnerBoundary)			{				player.y = topInnerBoundary + playerHalfHeight;				bottomInnerBoundary = (stage.stageHeight / 2) + (stage.stageHeight / 4);				background.y -= vy;			}			else if (player.y + playerHalfHeight > bottomInnerBoundary)			{				player.y = bottomInnerBoundary - playerHalfHeight;				topInnerBoundary = (stage.stageHeight / 2) - (stage.stageHeight / 4);				background.y -= vy;			}						//Stop background at stage edges			if (background.x + backgroundHalfWidth < stage.stageWidth)			{				background.x = stage.stageWidth - backgroundHalfWidth;				rightInnerBoundary = stage.stageWidth;			}			else if (background.x - backgroundHalfWidth > 0)			{				background.x = 0 + backgroundHalfWidth;				leftInnerBoundary = 0;			}			if (background.y - backgroundHalfHeight > 0)			{				background.y = 0 + backgroundHalfHeight;				topInnerBoundary = 0;			}			else if (background.y + backgroundHalfHeight < stage.stageHeight)			{				background.y = stage.stageHeight - backgroundHalfHeight;				bottomInnerBoundary = stage.stageHeight;			}		}	}}