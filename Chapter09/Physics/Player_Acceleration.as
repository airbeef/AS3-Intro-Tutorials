package {	import flash.display.MovieClip;	import flash.events.KeyboardEvent;	import flash.ui.Keyboard;	import flash.events.Event;	public class Player_Acceleration extends MovieClip	{		private var _vx:Number;		private var _vy:Number;		private var _accelerationX:Number;		private var _accelerationY:Number;		private var _speedLimit:Number;		public function Player_Acceleration()		{			_vx = 0;			_vy = 0;			_accelerationX = 0;			_accelerationY = 0;			_speedLimit = 5;						//Stop animation on the object			this.ears.stop();			//Add stage event listeners			stage.addEventListener(KeyboardEvent.KEY_DOWN,onKeyDown);			stage.addEventListener(KeyboardEvent.KEY_UP,onKeyUp);			addEventListener(Event.ENTER_FRAME, onEnterFrame);		}		private function onKeyDown(event:KeyboardEvent):void		{			if (event.keyCode == Keyboard.LEFT)			{				_accelerationX = -0.2;			}			if (event.keyCode == Keyboard.RIGHT)			{				_accelerationX = 0.2;			}			if (event.keyCode == Keyboard.UP)			{				_accelerationY = -0.2;			}			if (event.keyCode == Keyboard.DOWN)			{				_accelerationY = 0.2;			}		}		private function onKeyUp(event:KeyboardEvent):void		{			if (event.keyCode == Keyboard.LEFT || event.keyCode == Keyboard.RIGHT)			{				_accelerationX = 0;				_vx = 0;			}			else if (event.keyCode == Keyboard.DOWN || event.keyCode == Keyboard.UP)			{				_accelerationY = 0;				_vy = 0;			}		}		private function onEnterFrame(event:Event):void		{			//Initialize local variables			var playerHalfWidth:uint = width / 2;			var playerHalfHeight:uint = height / 2;			//Apply Acceleration			_vx += _accelerationX;			if (_vx > _speedLimit)			{				_vx = _speedLimit;			}			if (_vx < -_speedLimit)			{				_vx = -_speedLimit;			}						_vy += _accelerationY;			if (_vy > _speedLimit)			{				_vy = _speedLimit;			}			if (_vy < -_speedLimit)			{				_vy = -_speedLimit;			}						//Move the player			x+=_vx;			y+=_vy;			//trace("_vx: " + _vx);			//trace("x: " + x);			//trace("----------");			//Stop player at stage edges			if (x+playerHalfWidth>stage.stageWidth)			{				_vx=0;				_vy=0;				x=stage.stageWidth-playerHalfWidth;			}			else if (x-playerHalfWidth<0)			{				_vx=0;				_vy=0;				x=0+playerHalfWidth;			}			if (y-playerHalfHeight<0)			{				_vx=0;				_vy=0;				y=0+playerHalfHeight;			}			else if (y+playerHalfHeight>stage.stageHeight)			{				_vx=0;				_vy=0;				y=stage.stageHeight-playerHalfHeight;			}		}	}}